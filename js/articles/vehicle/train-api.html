<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html class="theme-dark">
  
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Train API </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="title" content="Train API ">
    <meta name="generator" content="docfx 2.58.0.0">
    
    <link rel="shortcut icon" href="../../../favicon.ico">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.2/jquery.modal.min.css" integrity="sha512-T3VL1q6jMUIzGLRB9z86oJg9PgF7A55eC2XkB93zyWSqQw3Ju+6IEJZYBfT7E9wOHM7HCMCOZSpcssxnUn6AeQ==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/stackoverflow-dark.min.css" integrity="sha512-Xn1b0y/BrCD7usnEh6r9CcKxHXFVleVUjGDnfc95zDDwFUwtOz3lJC/XtJcuLRNyrMQJEEToFfwjC9Ue/aWY/g==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.3.1/styles/stackoverflow-light.min.css" integrity="sha512-RDtnAhiPytLVV3AwzHkGVMVI4szjtSjxxyhDaH3gqdHPIw5qwQld1MVGuMu1EYoof+CaEccrO3zUVb13hQFU/A==" crossorigin="anonymous" disabled="disabled">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/solid.min.css" crossorigin="anonymous">
    <link rel="stylesheet" href="../../../styles/colors.css">
    <link rel="stylesheet" href="../../../styles/discord.css">
    <link rel="stylesheet" href="../../../styles/main.css">
    <meta property="docfx:navrel" content="../../../toc.html">
    <meta property="docfx:tocrel" content="../../../toc.html">
    
    <meta property="docfx:rel" content="../../../">
    
  </head>

  <body>

        <div class="body-content">

            <nav id="sidebar" role="navigation">

                <div class="sidebar">
                    
                    
                    
                    
                    <div>
                      
                      <a class="brand" href="../../../index.html">
                        <img src="../../../logo.svg" alt="alt:V" class="logomark">
                        <span class="brand-title">alt:V</span>
                      </a>
                      <div id="navbar">
                    
                      </div>
                    
                    </div>
                    


                </div>


            </nav>

            <main class="main-panel">

                <div class="blackout desktop-hide"></div>

                    
                    <div class="subnav navbar navbar-default">
                      <button class="btn-link search-back desktop-hide"></button>
                      <button class="btn-link navbar-toggler" aria-label="Toggle navigation"></button>
                      <div class="container" id="breadcrumb">
                        <ul class="breadcrumb">
                          <li></li>
                        </ul>
                      </div>
                      <div class="flex-space"></div>
                      <div class="toolbar">
                          <div style="position: relative; margin: 0 8px;">
                            <form class="search-bar mobile-hide" role="search" id="search" style="position: relative;">
                              <button class="btn-link clear" id="search-query-clear"></button>
                              <div role="textbox" class="form-control" id="search-query" placeholder="Search" contenteditable="true"></div>
                            </form>
                            <div class="popout" id="search-menu">
                                <button class="btn-link search-help" data-href="../../../articles/search_help.html"></button>
                              <span class="title">
                                Search options:
                              </span>
                            </div>
                            <button class="btn-link search-tip desktop-hide"></button>
                          </div>
                      </div>
                      <button class="btn-link btn-floating search desktop-hide"></button>
                      <div class="theme">
                        <button class="btn-link theme" aria-label="Switch theme"></button>
                        <div class="popout" id="theme-menu">
                          <div class="theme-option light" data-theme="light">
                            <span class="btn-link theme-light">Light</span>
                          </div>
                          <div class="theme-option dark" data-theme="dark">
                            <span class="btn-link theme-dark">Dark</span>
                          </div>
                          <div class="theme-option auto" data-theme="auto">
                            <span class="btn-link theme-auto">Sync with OS</span>
                          </div>
                        </div>
                      </div>
                    </div>

                <div class="content-region" role="main">

                    <div class="content-column Conceptual">

                            
                            <div class="sideaffix hide-when-search" data-noindex="">
                              <h3>Index</h3>
                              <div class="bs-docs-sidebar affix" id="affix"><ul class="level1 nav bs-docs-sidenav"><li><a href="#train-api">Train API</a><ul class="level2 nav bs-docs-sidenav train-api"><li><a href="#properties">Properties</a></li><li><a href="#methods">Methods</a></li><li><a href="#example-code">Example Code</a><ul class="level3 nav bs-docs-sidenav example-code"><li><a href="#single-train">Single train</a></li><li><a href="#linked-trains">Linked trains</a></li></ul></li></ul></li></ul></div>
                            </div>

                            
                            <div id="search-results">
                              <div class="search-list">Search Results for <span></span></div>
                              <div class="sr-items">
                                <p><span class="glyphicon glyphicon-refresh index-loading"></span></p>
                              </div>
                              <ul id="pagination" data-first="" data-prev="&#xf053;" data-next="&#xf054;" data-last=""></ul>
                            </div>

                        <article class="content wrap hide-when-search" id="_content" data-uid="">

                                <span class="small pull-right article mobile-hide" style="margin: 0;" data-noindex="">
                                    <ul class="subnav contribution">
                                            <li>
                                                <a href="https://github.com/altmp/altv-types/blob/master/docs/articles/vehicle/train-api.md/#L1">Improve this Doc</a>
                                            </li>
                                    </ul>
                                </span>

<h1 id="train-api">Train API</h1>

<p>The Train API has been introduced in version 7.0 and provides properties and methods to control trains. It is part of the serverside vehicle class and synchronized. This article should give you an overview of the API and how to use it.</p>
<h2 id="properties">Properties</h2>
<table>
<thead>
<tr>
<th>Property Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>isMissionTrain</td>
<td>Gets or sets if the created train is a mission train.</td>
</tr>
<tr>
<td>trainTrackId</td>
<td>Gets or sets the track id of the train. [Valid track ids: 0 - 11]</td>
</tr>
<tr>
<td>trainEngineId</td>
<td>Gets the engine of the train.</td>
</tr>
<tr>
<td>trainConfigIndex</td>
<td>Gets or sets the trains config index. You can find a list of all possible config indices in the trains.xml. [Valid indices: 1 - 25]</td>
</tr>
<tr>
<td>trainDistanceFromEngine</td>
<td>Gets or sets the distance of the trains to the engine.</td>
</tr>
<tr>
<td>isTrainEngine</td>
<td>Gets or sets if the train is the engine of the train.</td>
</tr>
<tr>
<td>isTrainCaboose</td>
<td>Gets or sets if the train is a caboose.</td>
</tr>
<tr>
<td>trainDirection</td>
<td>Gets or sets the direction of the train. (<code>true</code> means forward, <code>false</code> means backward)</td>
</tr>
<tr>
<td>trainPassengerCarriages</td>
<td>Gets or sets if the train is a passenger carriage.</td>
</tr>
<tr>
<td>trainRenderDerailed</td>
<td>Gets or sets if the trains is rendered derailed.</td>
</tr>
<tr>
<td>trainForceDoorsOpen</td>
<td>Gets or sets if the doors of the trains should be forced open.</td>
</tr>
<tr>
<td>trainCruiseSpeed</td>
<td>Gets or sets the cruise speed of the train.</td>
</tr>
<tr>
<td>trainCarriageConfigIndex</td>
<td>Gets or sets the config index of the train's carriage.</td>
</tr>
<tr>
<td>trainLinkedToBackwardId</td>
<td>Gets or sets another train that is linked to the back of the train.</td>
</tr>
<tr>
<td>trainLinkedToForwardId</td>
<td>Gets or sets another train that is linked to the front of the train.</td>
</tr>
</tbody>
</table>
<h2 id="methods">Methods</h2>
<div class="WARNING">
<h5>Warning</h5>
<p>Please keep in mind that these methods will only work when they are used right on spawn.</p>
</div>
<table>
<thead>
<tr>
<th>Method Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>setTrainEngineId</td>
<td>Applying a train as an engine of a train.</td>
</tr>
<tr>
<td>setTrainLinkedToBackwardId</td>
<td>Links another train to the back of the train.</td>
</tr>
<tr>
<td>setTrainLinkedToForwardId</td>
<td>Links another train to the front of the train.</td>
</tr>
</tbody>
</table>
<h2 id="example-code">Example Code</h2>
<p>The following code creates the metrotrain that drives on track 1. The track goes from the city to Paleto Bay and back.</p>
<h3 id="single-train">Single train</h3>
<pre><code class="lang-js">let vehicle = new alt.Vehicle(alt.hash(&quot;metrotrain&quot;), 0, 0, 0, 0, 0, 0);
vehicle.isMissionTrain = false;
vehicle.trainTrackId = 1;
vehicle.setTrainEngineId(null);
vehicle.trainConfigIndex = 25;
vehicle.trainDistanceFromEngine = 0;
vehicle.isTrainEngine = true;
vehicle.isTrainCaboose = false;
vehicle.trainDirection = true;
vehicle.trainPassengerCarriages = false;
vehicle.trainRenderDerailed = false;
vehicle.trainForceDoorsOpen = false;
vehicle.trainCruiseSpeed = 5;
vehicle.trainCarriageConfigIndex = 0;
vehicle.setTrainLinkedToBackwardId(null);
vehicle.setTrainLinkedToForwardId(null);
</code></pre>
<h3 id="linked-trains">Linked trains</h3>
<p>In order to link two trains to each other you need to use the <code>setTrainLinkedToBackwardId</code> and<code>setTrainLinkedToForwardId</code> methods. It is also important that one of the trains needs to be the engine of the train and the other one needs to be the carriage. Otherwise, you need to set the distance of the second train via<code>trainDistanceFromVehicle</code> manually.</p>
<pre><code class="lang-js">  // The whole train drives on track 3 and starts at the node index 1 of track 3.
  
  let vehicle = new alt.Vehicle(alt.hash(&quot;metrotrain&quot;), 193, -603, 16, 0, 0, 0);
  vehicle.isMissionTrain = false;
  vehicle.trainTrackId = 3;
  vehicle.setTrainEngineId(null);
  vehicle.trainConfigIndex = 25;
  vehicle.trainDistanceFromEngine = 0;
  vehicle.isTrainEngine = true; // Make this train the engine of the whole train
  vehicle.isTrainCaboose = false;
  vehicle.trainDirection = false;
  vehicle.trainPassengerCarriages = false; // Disable this train as a passenger carriage
  vehicle.trainRenderDerailed = false;
  vehicle.trainForceDoorsOpen = false;
  vehicle.trainCarriageConfigIndex = 1;
  vehicle.setTrainLinkedToForwardId(null);

  let vehicle2 = new alt.Vehicle(alt.hash(&quot;metrotrain&quot;), 193, -603, 16, 0, 0, 0);
  vehicle2.isMissionTrain = false;
  vehicle2.trainTrackId = 3;
  vehicle2.setTrainEngineId(vehicle);
  vehicle2.trainConfigIndex = 25;
  vehicle2.trainDistanceFromEngine = 0;
  vehicle2.isTrainEngine = false; // Disable this train as the engine of the whole train
  vehicle2.isTrainCaboose = false;
  vehicle2.trainDirection = false;
  vehicle2.trainPassengerCarriages = true; // Make this train as a passenger carriage
  vehicle2.trainRenderDerailed = false;
  vehicle2.trainForceDoorsOpen = false;
  vehicle2.trainCarriageConfigIndex = 1;
  
  vehicle2.setTrainLinkedToBackwardId(null); // Link no train to the back of this vehicle2
  vehicle2.setTrainLinkedToForwardId(vehicle); // Link vehicle to the front of the vehicle
  vehicle.setTrainLinkedToBackwardId(vehicle2); // Link vehicle2 to the back of the vehicle

</code></pre>
</article>
                    </div>

                </div>

            </main>

        </div>

        
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/arrive/2.4.1/arrive.min.js" integrity="sha512-wkU3qYWjenbM+t2cmvw2ADRRh4opbOYBjkhrPGHV7M6dcE/TR0oKpoDkWXfUs3HrulI2JFuTQyqPLRih1V54EQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twbs-pagination/1.4.2/jquery.twbsPagination.min.js" integrity="sha512-frFP3ZxLshB4CErXkPVEXnd5ingvYYtYhE5qllGdZmcOlRKNEPbufyupfdSTNmoF5ICaQNO6SenXzOZvoGkiIA==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha512-mhbv5DqBMgrWL+32MmsDOt/OAvqr/cHimk6B8y/bx/xS88MVkYGPiVv2ixKVrkywF2qHplNRUvFsAHUdxZ3Krg==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.2/jquery.modal.min.js" integrity="sha512-ztxZscxb55lKL+xmWGZEbBHekIzy+1qYKHGZTWZYH1GUwxy0hiA18lW6ORIMj4DHRgvmP/qGcvqwEyFFV7OYVQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.3.0/anchor.min.js" integrity="sha512-G2OGlm41XXw+fcgDcRPjVYEn7qCY6qiKWNqDGT37SnKh0qtRXTuKZ5/UQR0kDN0PZRNWcGExd3lAeqEH0I36bQ==" crossorigin="anonymous"></script>
<script type="text/javascript" src="../../../styles/docfx.js"></script>
<script type="text/javascript" src="../../../styles/discord.js"></script>
<script type="text/javascript" src="../../../styles/main.js"></script>

    </body>

</html>
